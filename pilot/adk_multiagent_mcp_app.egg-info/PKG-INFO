Metadata-Version: 2.4
Name: adk-multiagent-mcp-app
Version: 0.1.0
Summary: Add your description here
Requires-Python: <3.13,>=3.11
Description-Content-Type: text/markdown
Requires-Dist: firebase-admin>=6.5.0
Requires-Dist: opentelemetry-api
Requires-Dist: opentelemetry-sdk
Requires-Dist: opentelemetry-exporter-gcp-trace
Requires-Dist: opentelemetry-resourcedetector-gcp
Requires-Dist: certifi>=2025.10.5
Requires-Dist: google-adk>=1.16.0
Requires-Dist: google-adk[eval]>=1.15.0
Requires-Dist: cloud-sql-python-connector>=1.18.5
Requires-Dist: pg8000>=1.31.5
Requires-Dist: sqlalchemy>=2.0.43
Requires-Dist: fastapi
Requires-Dist: uvicorn
Requires-Dist: python-dotenv
Requires-Dist: websockets
Requires-Dist: httpx
Requires-Dist: pytest>=8.4.2
Requires-Dist: pymongo
Requires-Dist: pytest-asyncio
Requires-Dist: google-cloud-secret-manager
Requires-Dist: google-cloud-logging
Provides-Extra: test
Requires-Dist: pytest; extra == "test"
Requires-Dist: pytest-mock; extra == "test"
Requires-Dist: httpx; extra == "test"

# Vigilant Journey - Streaming Agent Chat

This is a web-based chat application that features a conversational AI agent powered by Google's Vertex AI and the Agent Development Kit (ADK). The application supports real-time, bidirectional streaming of both text and audio messages over WebSockets.

## Features

*   **Real-time Communication:** Interact with the AI agent in real-time with low latency.
*   **Text and Audio Input:** Send messages in both text and audio formats.
*   **Audio-Only Responses:** The agent responds with audio only.
*   **Google Search Integration:** The agent can use Google Search to answer questions about recent events or to look up information.
*   **Long-term Memory:** The agent uses Vertex AI Memory Bank to remember information from previous conversations.
*   **Web-based Interface:** A simple and intuitive web interface for interacting with the agent.

## Technologies Used

### Backend

*   **Python:** The backend is written in Python.
*   **uv:** For Python packaging and dependency management.
*   **FastAPI:** A modern, fast (high-performance) web framework for building APIs.
*   **Google Cloud Vertex AI:** The AI agent is built on Google's Vertex AI platform.
*   **Google Agent Development Kit (ADK):** The ADK is used to build and run the conversational agent.
*   **WebSockets:** For real-time, bidirectional communication between the client and server.

### Frontend

*   **HTML, CSS, JavaScript:** The frontend is built with standard web technologies.
*   **Web Audio API:** Used for capturing and playing back audio in the browser.

## Getting Started

### Prerequisites

*   Python 3.9+
*   Node.js and npm
*   [uv](https://github.com/astral-sh/uv) - An extremely fast Python package installer and resolver.

### Backend Setup

1.  **Install Python dependencies:**

    ```bash
    uv pip install -e .
    ```

2.  **Set up environment variables:**

    Create a `.env` file in the `pilot` directory and add the following:

    ```
    GOOGLE_CLOUD_PROJECT="your-gcp-project-id"
    GOOGLE_CLOUD_LOCATION="your-gcp-location"
    AGENT_ENGINE_ID="your-agent-engine-id" # Optional, will be created if not provided
    ```

3.  **Run the backend server:**

    ```bash
    uvicorn main:app --reload
    ```

### Frontend Setup

1.  **Install Node.js dependencies:**

    ```bash
    npm install
    ```

2.  **Run tests (optional):**

    ```bash
    npm test
    ```

## Usage

1.  Open your web browser and navigate to `http://127.0.0.1:8000`.
2.  **Important:** Click the "Start Audio" button to initialize the audio components. You will be prompted for microphone access. This is required to hear the agent's responses, even if you are sending text-based messages.
3.  You can start interacting with the agent by typing messages in the input box and clicking "Send", or by speaking into your microphone.

## Deployment

1.  **Set Environment Variables for Deployment:**
    In your Cloud Shell or local terminal (with `gcloud` CLI configured):
    ```bash
    export SERVICE_NAME='galatic-streamhub' # Or your preferred service name
    export LOCATION='us-central1'         # Or your preferred region
    export PROJECT_ID='silver-455021' # Replace with your Project ID
    ```

2.  **Deploy to Cloud Run:**
    ```bash
    # Recommended: Deploy using the ADK CLI to automatically handle agent-specific setup.
    # Arguments after the '--' are passed directly to the underlying 'gcloud run deploy' command.
    adk deploy cloud_run \
      --service_name $SERVICE_NAME \
      --project $PROJECT_ID \
      --region $LOCATION \
      --trace_to_cloud \
      pilot \
      -- \
      --memory 4G \
      --allow-unauthenticated \
      --service-account 140457946058-compute@developer.gserviceaccount.com
    ```
